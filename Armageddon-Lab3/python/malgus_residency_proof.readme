This Python script performs an automated data-residency audit across AWS regions to verify that relational databases are deployed only in the approved jurisdiction. Using the AWS SDK for Python (boto3), it queries Amazon RDS inventories in both Tokyo (ap-northeast-1) and São Paulo (sa-east-1), collecting authoritative metadata directly from AWS APIs rather than relying on manual inspection or console screenshots.

The script is designed to support regulatory and audit requirements by producing a structured, machine-readable evidence artifact. For each discovered RDS instance, it records the region, instance identifier, availability zone, and endpoint address, then evaluates an explicit compliance assertion. The audit passes only when at least one database exists in Tokyo and no databases exist in São Paulo, reinforcing the architecture’s requirement that persistent medical data remain exclusively in the designated data-authority region.

This approach reflects real-world Site Reliability Engineering and security practices, where compliance must be provable and repeatable, not assumed. Automating regional inventory checks ensures that configuration drift, accidental deployments, or misconfigured pipelines are detected early and documented consistently. Because the output is formatted as JSON, it can be archived, versioned, or attached directly to audit reports and change-management records.

In the context of Lab 3’s cross-region architecture, this script provides concrete proof that São Paulo functions strictly as a stateless compute extension, while Tokyo remains the sole location for persistent database resources. This separation supports data-residency constraints, limits blast radius, and aligns with common healthcare and privacy compliance expectations, making the script a practical example of how infrastructure audits can be integrated into everyday operational workflows.